<!-- should this be a full html page and the class="template" points to the actual template part? What about css? -->

<div class="template">
    <h1 id="title">[Title]</h1>
    <div id="text">[Text]</div>
</div>

<script>
    "use strict";
    if (insmTemplateDataSet != undefined) {
        insmTemplateDataSet.TemplateDataSetChanged = function (dataSet) {
            var title = document.getElementById("title");

            //title.innerHTML = insmTemplateDataSet.GetTemplateDataSetItemAsText("Title");
            title.innerHTML = "Title" in dataSet.Items ? dataSet.Items["Title"].Text : "[Unset]";

            var text = document.getElementById("text");
            //text.innerHTML = insmTemplateDataSet.GetTemplateDataSetItemAsText("Text");
            text.innerHTML = "Text" in dataSet.Items ? dataSet.Items["Text"].Text : "[Unset]";

            var image = document.getElementById("image");
            var file = "image" in dataSet.Items ? dataSet.Items["image"].File : null;
            if (typeof file != 'undefined' && file != '') {
                document.body.style.backgroundImage = "url('" + file.FileName + "')";
            }

            insmTemplate.Debug("Low", "Warning", "Template information updated");
        };

        insmTemplate.Debug("Low", "Warning", "Template started");
    }
    else {
        document.getElementById("title").innerHTML = "[No player detected]";
    }
</script>
